<div class="card bg-base-100 shadow-sm">
  <div class="card-body p-5 space-y-3">

    <!-- ヘッダー -->
    <div class="flex items-baseline justify-between">
      <div>
        <div class="text-xs text-base-content/50 tracking-wide">
          今日の気分
        </div>

        <% if avg_mood.present? %>
          <div class="text-xl font-semibold mt-0.5">
            <%= avg_mood.round(2) %>
            <span class="text-sm font-normal text-base-content/50">/ 5</span>
          </div>
        <% else %>
          <div class="text-sm text-base-content/40 mt-1">
            記録なし
          </div>
        <% end %>
      </div>

      <!-- 日付やアイコン -->
      <div class="text-xs text-base-content/40">
        今日
      </div>
    </div>

    <!-- グラフ -->
    <div
      class="w-full h-40"
      data-controller="mood-graph"
      data-mood-graph-values-value="<%= @context.mood_graph_values.to_json %>">

      <canvas class="w-full h-full"></canvas>
    </div>

    <!-- フッター -->
    <div class="text-xs text-base-content/40">
      時間ごとの気分の流れ
    </div>

  </div>
</div>
