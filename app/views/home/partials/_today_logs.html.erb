<section class="card bg-base-100 shadow-sm" data-controller="swiper">
  <div class="card-body">
    <div class="flex flex-wrap items-center justify-between gap-3">
      <h2 class="card-title text-sm font-semibold">今日のログ</h2>

      <div class="flex gap-2" role="tablist" aria-label="今日のログ切替">
        <button
          type="button"
          role="tab"
          data-index="0"
          data-swiper-target="tab"
          data-action="click->swiper#slideTo"
          class="px-3 py-1 text-sm font-semibold rounded-btn"
          aria-selected="true"
        >
          気分
        </button>

        <button
          type="button"
          role="tab"
          data-index="1"
          data-swiper-target="tab"
          data-action="click->swiper#slideTo"
          class="px-3 py-1 text-sm font-semibold rounded-btn"
          aria-selected="false"
        >
          習慣
        </button>
      </div>
    </div>

    <div class="swiper w-full mt-4" data-swiper-target="container">
      <div class="swiper-wrapper">

        <!-- 気分ログ -->
        <div class="swiper-slide">
          <div class="h-64 overflow-y-auto pr-1">
            <!-- ログカード一覧 -->
            <% if @mood_logs_today.present? %>
              <div id="mood_logs_home" class="space-y-2">
                <% @mood_logs_today.each do |mood_log| %>
                  <%= render "home/partials/mood_log_home_card", mood_log: mood_log %>
                <% end %>
              </div>
            <% else %>
              <div class="flex items-center justify-center w-full">
                <div class="w-[95%] rounded-xl bg-base-200 p-3 shadow-sm h-14
                            flex items-center justify-center text-center">
                  <p class="text-sm text-base-content/60">
                    今日の習慣ログはまだありません。
                  </p>
                </div>
              </div>
            <% end %>
          </div>
        </div>

        <!-- 習慣ログ -->
        <div class="swiper-slide">
          <div class="h-64 overflow-y-auto pr-1">
            <!-- ログカード一覧 -->
            <div class="space-y-2">
              <!-- ログがない場合の表示 -->
              <div id="habit_logs_home_empty">
                <% if @habit_logs_today.empty? %>
                  <div class="flex items-center justify-center w-full">
                    <div class="w-[95%] rounded-xl bg-base-200 p-3 shadow-sm h-14
                                flex items-center justify-center text-center">
                      <p class="text-sm text-base-content/60">
                        今日の気分ログはまだありません。
                      </p>
                    </div>
                  </div>
                <% end %>
              </div>
              <!-- ログカード -->
              <div id="habit_logs_home">
                <% if @habit_logs_today.present? %>
                  <% @habit_logs_today.each do |habit_log| %>
                    <%= render "home/partials/habit_log_home_card", habit_log: habit_log %>
                  <% end %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
        <!-- ページネーション -->
        <div class="swiper-pagination"></div>
      </div>
      <!-- リンク -->
      <div class="w-[90%] mx-auto flex gap-4 mt-2 justify-center">

        <%= link_to "#review_path",
            class: "btn btn-primary btn-sm flex-1 px-3 flex items-center justify-center gap-2" do %>
          <%= heroicon "pencil-square", variant: :outline, options: { class: "h-4 w-4" } %>
          振り返り
        <% end %>

        <%= link_to "#logs_path",
            class: "btn btn-outline btn-sm flex-1 px-3 flex items-center justify-center gap-2" do %>
          <%= heroicon "calendar-days", variant: :outline, options: { class: "h-4 w-4" } %>
          ログ一覧
        <% end %>

      </div>
    </div>
  </div>
</section>
