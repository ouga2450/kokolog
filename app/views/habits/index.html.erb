<div class="w-full max-w-md mx-auto p-4">

  <h2 class="text-xl font-semibold mb-4">習慣一覧</h2>

  <!-- 有効 -->
  <section class="card bg-base-100 shadow-sm">
    <div class="card-body space-y-2">
      <h3 class="text-lg font-bold">有効な習慣</h3>

      <!-- Daily -->
      <h4 class="text-base font-semibold">毎日</h4>
      <% if @daily_habits.present? %>
        <div class="space-y-2">
          <% @daily_habits.each do |habit| %>
            <%= render "habits/habit_card", habit: habit %>
          <% end %>
        </div>
      <% else %>
        <div class="flex items-center justify-center w-full">
          <div class="w-[90%] rounded-xl bg-base-200 p-3 shadow-sm h-14
                      flex items-center justify-center text-center">
            <p class="text-sm text-base-content/60">
              毎日の習慣はまだありません。
            </p>
          </div>
        </div>
      <% end %>

      <!-- Weekly -->
      <h4 class="text-base font-semibold">毎週</h4>
      <% if @weekly_habits.present? %>
        <div class="space-y-2">
          <% @weekly_habits.each do |habit| %>
            <%= render "habits/habit_card", habit: habit %>
          <% end %>
        </div>
      <% else %>
        <div class="flex items-center justify-center w-full">
          <div class="w-[90%] rounded-xl bg-base-200 p-3 shadow-sm h-14
                      flex items-center justify-center text-center">
            <p class="text-sm text-base-content/60">
              毎週の習慣はまだありません。
            </p>
          </div>
        </div>
      <% end %>

      <!-- Monthly -->
      <h4 class="text-base font-semibold">毎月</h4>
      <% if @monthly_habits.present? %>
        <div class="space-y-2">
          <% @monthly_habits.each do |habit| %>
            <%= render "habits/habit_card", habit: habit %>
          <% end %>
        </div>
      <% else %>
        <div class="flex items-center justify-center w-full">
          <div class="w-[90%] rounded-xl bg-base-200 p-3 shadow-sm h-14
                      flex items-center justify-center text-center">
            <p class="text-sm text-base-content/60">
              毎月の習慣はまだありません。
            </p>
          </div>
        </div>
      <% end %>
    </div>
  </section>

  <!-- 下書き -->
  <section>
    <h3 class="text-lg font-bold mb-2">下書き</h3>

    <div class="space-y-3">
      <% @draft_habits.each do |habit| %>
        <div class="card bg-base-100 shadow-sm p-4">
          <p class="font-semibold"><%= habit.name %></p>
          <p class="text-sm text-base-content/60"><%= habit.goal.display_goal %></p>
          <p class="text-xs text-base-content/50"><%= habit.goal.display_period %></p>

          <div class="mt-3 flex gap-2">
            <%= link_to "編集", edit_habit_path(habit), class: "btn btn-sm btn-outline" %>
            <%= link_to "削除", habit_path(habit),
                        data: { turbo_method: :delete, turbo_confirm: "削除しますか？" },
                        class: "btn btn-sm btn-error btn-outline" %>
          </div>
        </div>
      <% end %>
    </div>
  </section>

  <!-- 達成済み -->
  <section>
    <h3 class="text-lg font-bold mt-6 mb-2">達成済み</h3>

    <div class="space-y-3">
      <% @achieved_habits.each do |habit| %>
        <div class="card bg-base-100 shadow-sm p-4 opacity-70">
          <p class="font-semibold"><%= habit.name %></p>
          <p class="text-sm text-base-content/60"><%= habit.goal.display_goal %></p>
          <p class="text-xs text-base-content/50"><%= habit.goal.display_period %></p>
        </div>
      <% end %>
    </div>
  </section>

</div>
